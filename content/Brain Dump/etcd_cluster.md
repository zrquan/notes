---
title: "Etcd Cluster"
author: ["4shen0ne"]
lastmod: 2024-12-14T01:38:11+08:00
tags: ["k8s"]
draft: false
---

在 Kubernetes（k8s）中，etcd cluster 是一个关键组件，用于作为系统的分布式键值存储。
它负责保存和管理 Kubernetes 集群的所有配置数据和状态信息，包括集群的节点信息、
pods、配置设置、secrets 等。etcd 的设计使其非常适合于存储重要数据，并确保数据的
一致性和高可用性。

etcd cluster 通常以集群模式运行，以提高数据的可靠性和服务的可用性。通过在多个服
务器（称为节点）上运行 etcd 的实例，可以确保即使单个或多个节点发生故障，数据也不
会丢失，并且集群仍然能够响应请求。这种冗余是通过复制数据到所有 etcd 实例来实现的。

在 Kubernetes 环境中，etcd 通常是设置为有三个或五个节点的集群，以保证数据的安全
和集群的稳定性。通过使用 Raft 共识算法，etcd 集群能够在节点间协调数据的一致性，
确保每个更改都在多个节点之间正确复制，且顺序一致。

总结一下，etcd cluster 在 Kubernetes 中扮演着中心数据注册和存储的角色，是整个集
群能够正常运行的关键支撑。
